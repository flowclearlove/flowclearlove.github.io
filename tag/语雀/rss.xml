<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>让风听见 • Posts by &#34;语雀&#34; tag</title>
        <link>http://example.com</link>
        <description>人生不可能总是顺心如意的，但是持续朝着阳光走，影子就会躲在后面。刺眼，却表明对的方向。</description>
        <language>zh-CN</language>
        <pubDate>Sun, 14 May 2023 14:03:27 +0800</pubDate>
        <lastBuildDate>Sun, 14 May 2023 14:03:27 +0800</lastBuildDate>
        <category>hexo博客</category>
        <category>shell</category>
        <category>开发</category>
        <category>语雀</category>
        <category>joplin</category>
        <item>
            <guid isPermalink="true">http://example.com/2023/05/14/%E8%AF%AD%E9%9B%80%E4%B8%80%E9%94%AE%E5%AF%BC%E5%87%BAmarkdown/</guid>
            <title>语雀一键导出markdown</title>
            <link>http://example.com/2023/05/14/%E8%AF%AD%E9%9B%80%E4%B8%80%E9%94%AE%E5%AF%BC%E5%87%BAmarkdown/</link>
            <category>语雀</category>
            <pubDate>Sun, 14 May 2023 14:03:27 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;安装python&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#安装python&#34;&gt;#&lt;/a&gt; 安装 python&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;image-20230514140518058.png&#34; alt=&#34;image-20230514140518058&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;pip安装库&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#pip安装库&#34;&gt;#&lt;/a&gt; pip 安装库&lt;/h2&gt;
&lt;figure class=&#34;highlight cmake&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs cmake&#34;&gt;pip3 &lt;span class=&#34;hljs-keyword&#34;&gt;install&lt;/span&gt; requests psutil&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;执行脚本&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#执行脚本&#34;&gt;#&lt;/a&gt; 执行脚本&lt;/h2&gt;
&lt;figure class=&#34;highlight vim&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs vim&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;python3&lt;/span&gt; yuque.&lt;span class=&#34;hljs-keyword&#34;&gt;py&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight py&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs py&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; json&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; sys&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; os&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; re&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; requests&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; psutil&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;from&lt;/span&gt; datetime &lt;span class=&#34;hljs-keyword&#34;&gt;import&lt;/span&gt; datetime&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;getattr&lt;/span&gt;(sys, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;frozen&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-literal&#34;&gt;False&lt;/span&gt;):&lt;br&gt;    APPLICATION_PATH = os.path.dirname(sys.executable)&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;:&lt;br&gt;    APPLICATION_PATH = os.path.dirname(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;)x&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(APPLICATION_PATH)&lt;br&gt;jsonConfig = json.load(&lt;span class=&#34;hljs-built_in&#34;&gt;open&lt;/span&gt;(os.path.join(APPLICATION_PATH, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;config.json&amp;quot;&lt;/span&gt;), encoding=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;utf-8&amp;#x27;&lt;/span&gt;))&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;hljs-title class_&#34;&gt;ExportYueQueDoc&lt;/span&gt;:&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;__init__&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self&lt;/span&gt;):&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;try&lt;/span&gt;:&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;getattr&lt;/span&gt;(sys, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;frozen&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-literal&#34;&gt;False&lt;/span&gt;):&lt;br&gt;                APPLICATION_PATH = os.path.dirname(sys.executable)&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;else&lt;/span&gt;:&lt;br&gt;                APPLICATION_PATH = os.path.dirname(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;)&lt;br&gt;            self.jsonConfig = json.load(&lt;span class=&#34;hljs-built_in&#34;&gt;open&lt;/span&gt;(os.path.join(APPLICATION_PATH, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;config.json&amp;quot;&lt;/span&gt;), encoding=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;utf-8&amp;#x27;&lt;/span&gt;))&lt;br&gt;            self.base_url = self.jsonConfig[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;BASE_URL&amp;#x27;&lt;/span&gt;]&lt;br&gt;            self.token = self.jsonConfig[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;TOKEN&amp;#x27;&lt;/span&gt;]&lt;br&gt;            self.headers = &amp;#123;&lt;br&gt;                &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;: self.jsonConfig[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;USER_AGENT&amp;#x27;&lt;/span&gt;],&lt;br&gt;                &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;X-Auth-Token&amp;quot;&lt;/span&gt;: self.jsonConfig[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;TOKEN&amp;#x27;&lt;/span&gt;]&lt;br&gt;            &amp;#125;&lt;br&gt;            self.data_path = self.jsonConfig[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;DATA_PATH&amp;#x27;&lt;/span&gt;]&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;except&lt;/span&gt;:&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;raise&lt;/span&gt; ValueError(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;config.json 有误&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;get_user_info&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self&lt;/span&gt;):&lt;br&gt;        res_obj = requests.get(url=self.base_url + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/user&amp;#x27;&lt;/span&gt;, headers=self.headers)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; res_obj.status_code != &lt;span class=&#34;hljs-number&#34;&gt;200&lt;/span&gt;:&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;raise&lt;/span&gt; ValueError(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;Token 信息错误&amp;quot;&lt;/span&gt;)&lt;br&gt;        user_json = res_obj.json()&lt;br&gt;        self.login_id = user_json[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;][&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;login&amp;#x27;&lt;/span&gt;]&lt;br&gt;        self.uid = user_json[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;][&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;id&amp;#x27;&lt;/span&gt;]&lt;br&gt;        self.username = user_json[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;][&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;]&lt;br&gt;        &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;=========== 用户信息初始化成功 ==========&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;get_repos_data&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self&lt;/span&gt;):&lt;br&gt;        repos_json = requests.get(self.base_url + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/users/&amp;#x27;&lt;/span&gt; + self.login_id + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/repos&amp;#x27;&lt;/span&gt;, headers=self.headers).json()&lt;br&gt;        repos_list = []&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; item &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; repos_json[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;]:&lt;br&gt;            rid = item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;id&amp;#x27;&lt;/span&gt;]  &lt;span class=&#34;hljs-comment&#34;&gt;# 知识库id&lt;/span&gt;&lt;br&gt;            name = item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;]  &lt;span class=&#34;hljs-comment&#34;&gt;# 知识库名称&lt;/span&gt;&lt;br&gt;            repos_list.append(&amp;#123;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;rid&amp;quot;&lt;/span&gt;: rid, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;repos_name&amp;quot;&lt;/span&gt;: name&amp;#125;)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;return&lt;/span&gt; repos_list&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;get_article_data&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self, repos_list&lt;/span&gt;):&lt;br&gt;        &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&amp;quot;获取文章数据&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;        article_list = []&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; repos &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; repos_list:&lt;br&gt;            article_datas = requests.get(self.base_url + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/repos/&amp;#x27;&lt;/span&gt; + &lt;span class=&#34;hljs-built_in&#34;&gt;str&lt;/span&gt;(repos[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;rid&amp;#x27;&lt;/span&gt;]) + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/docs&amp;#x27;&lt;/span&gt;,&lt;br&gt;                                         headers=self.headers).json()&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; item &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; article_datas[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;]:&lt;br&gt;                bid = repos[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;rid&amp;#x27;&lt;/span&gt;]&lt;br&gt;                title = item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;title&amp;#x27;&lt;/span&gt;]  &lt;span class=&#34;hljs-comment&#34;&gt;# 文章标题&lt;/span&gt;&lt;br&gt;                desc = item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;description&amp;#x27;&lt;/span&gt;]&lt;br&gt;                slug = item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;slug&amp;#x27;&lt;/span&gt;]&lt;br&gt;                article_list.append(&lt;br&gt;                    &amp;#123;&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;bid&amp;quot;&lt;/span&gt;: bid, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;title&amp;quot;&lt;/span&gt;: title, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;desc&amp;quot;&lt;/span&gt;: desc, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;slug&amp;quot;&lt;/span&gt;: slug, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;repos_name&amp;quot;&lt;/span&gt;: repos[&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;repos_name&amp;quot;&lt;/span&gt;]&amp;#125;)&lt;br&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; item &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; article_list:&lt;br&gt;            per_article_data = requests.get(self.base_url + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/repos/&amp;#x27;&lt;/span&gt; + &lt;span class=&#34;hljs-built_in&#34;&gt;str&lt;/span&gt;(item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;bid&amp;#x27;&lt;/span&gt;]) + &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;/docs/&amp;#x27;&lt;/span&gt; + item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;slug&amp;#x27;&lt;/span&gt;],&lt;br&gt;                                            headers=self.headers).json()&lt;br&gt;            posts_text = re.sub(&lt;span class=&#34;hljs-string&#34;&gt;r&amp;#x27;\\n&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;, per_article_data[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;data&amp;#x27;&lt;/span&gt;][&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;body&amp;#x27;&lt;/span&gt;])&lt;br&gt;            result = re.sub(&lt;span class=&#34;hljs-string&#34;&gt;r&amp;#x27;&amp;lt;a name=&amp;quot;(.*)&amp;quot;&amp;gt;&amp;lt;/a&amp;gt;&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, posts_text)&lt;br&gt;            &lt;span class=&#34;hljs-comment&#34;&gt;# all_datas.append(&amp;#123;&amp;quot;title&amp;quot;: item[&amp;#x27;title&amp;#x27;], &amp;quot;content&amp;quot;: result&amp;#125;)&lt;/span&gt;&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;yield&lt;/span&gt; result, item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;repos_name&amp;quot;&lt;/span&gt;], item[&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;title&amp;#x27;&lt;/span&gt;]&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;save_article&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self, result, repos_name, title&lt;/span&gt;):&lt;br&gt;        current_time = datetime.now().strftime(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;%Y-%m-%d %H:%M:%S&amp;quot;&lt;/span&gt;)&lt;br&gt;        dir_path = &lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;self.data_path&amp;#125;&lt;/span&gt;/&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;repos_name&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;br&gt;        dir_path = dir_path.replace(&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;,&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;)&lt;br&gt;        filepath = dir_path + &lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;/&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;title&amp;#125;&lt;/span&gt;.md&amp;quot;&lt;/span&gt;&lt;br&gt;        dir_ret = os.path.exists(dir_path)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;not&lt;/span&gt; dir_ret:&lt;br&gt;            os.makedirs(dir_path)&lt;br&gt;            &lt;span class=&#34;hljs-comment&#34;&gt;#exists_ret = os.path.exists(filepath)&lt;/span&gt;&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;try&lt;/span&gt;:&lt;br&gt;            &lt;span class=&#34;hljs-keyword&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;hljs-built_in&#34;&gt;open&lt;/span&gt;(filepath, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;a&amp;#x27;&lt;/span&gt;, encoding=&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;) &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; fp:&lt;br&gt;                fp.writelines(result)&lt;br&gt;                &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;[&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;current_time&amp;#125;&lt;/span&gt;]  &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;title&amp;#125;&lt;/span&gt; 导出完成&amp;quot;&lt;/span&gt;)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;except&lt;/span&gt; Exception &lt;span class=&#34;hljs-keyword&#34;&gt;as&lt;/span&gt; e:&lt;br&gt;            &lt;span class=&#34;hljs-built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;f&amp;quot;[&lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;current_time&amp;#125;&lt;/span&gt;]  &lt;span class=&#34;hljs-subst&#34;&gt;&amp;#123;title&amp;#125;&lt;/span&gt; 导出失败&amp;quot;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;hljs-title function_&#34;&gt;main&lt;/span&gt;(&lt;span class=&#34;hljs-params&#34;&gt;self&lt;/span&gt;):&lt;br&gt;        self.get_user_info()&lt;br&gt;        repos_list = self.get_repos_data()&lt;br&gt;        gen_obj = self.get_article_data(repos_list)&lt;br&gt;        &lt;span class=&#34;hljs-keyword&#34;&gt;for&lt;/span&gt; item &lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt; gen_obj:&lt;br&gt;            self.save_article(item[&lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;], item[&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt;], item[&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;])&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; __name__ == &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;:&lt;br&gt;    yq = ExportYueQueDoc()&lt;br&gt;    yq.main()&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
    </channel>
</rss>
